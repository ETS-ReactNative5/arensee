import Dialog from './Dialog';
import React, { useState, } from 'react';
import Actions from './Actions';
import defaults from './defaultConfigs';
import { ConfirmContext } from './context';
const ConfirmProvider = ({ children, config }) => {
    const initial = Object.assign(Object.assign(Object.assign({}, defaults), config), { theme: Object.assign(Object.assign({}, defaults.theme), config === null || config === void 0 ? void 0 : config.theme) });
    const [current, setCurrent] = useState(initial);
    const { actions } = current;
    const dismiss = () => setCurrent(initial);
    return (<ConfirmContext.Provider value={Object.assign(Object.assign({}, current), { setCurrent })}>
      {children}
      <Dialog dismiss={dismiss}>
        {actions ? actions(dismiss) : <Actions dismiss={dismiss}/>}
      </Dialog>
    </ConfirmContext.Provider>);
};
export default ConfirmProvider;
